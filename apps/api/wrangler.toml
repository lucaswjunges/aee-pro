name = "aee-pro-api"
main = "src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

[triggers]
crons = ["*/10 * * * *"]

# Production D1 database — create with:
#   wrangler d1 create aee-pro-db
# Then paste the database_id below
[[d1_databases]]
binding = "DB"
database_name = "aee-pro-db"
database_id = "bfb6f3a4-afcd-41bb-8537-ae50e214dcbf"
migrations_dir = "../../packages/db/migrations"

[[r2_buckets]]
binding = "R2"
bucket_name = "aee-pro-documents"

# Production secrets — set with:
#   wrangler secret put SESSION_SECRET
#   wrangler secret put LATEX_COMPILER_URL
#   wrangler secret put LATEX_COMPILER_TOKEN
#   wrangler secret put RESEND_API_KEY
#   wrangler secret put FRONTEND_URL
# [vars]
# SESSION_SECRET is set via `wrangler secret put` (never in this file)
